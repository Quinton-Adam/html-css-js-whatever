<html>
  <head>
    <title>Portfolio Cit-261 | Adam Quinton</title>
  </head>
<!-- Navigation generated by JS, DOM, and AJAX -->
<body>
  <h2>Don't Lose Your Marbles</h2>
      <article>
        <div id="result-box"></div>
        <form id="mainForm">
            <input type="text" placeholder="bag name" id="marble_bag_name" name="marble_bag_name"></input><br>
            <input type="text" placeholder="amount of marbles" id="marble_amount" name="marble_amount"></input><br>
            <input type="text" placeholder="marble color" id="marble_color" name="marble_color"></input><br>
            <input type="number" placeholder="marble size" id="marble_size" name="marble_size"></input><br>
            <input type="button" onclick="stringazoider()" value="Save Marbles"/>
        </form>

  </article>
  <script>
  function stringazoider () {
    var marbleString = {marbleBagName: document.getElementById("marble_bag_name").value,
                        amountOfMarbles: document.getElementById("marble_amount").value,
                        marbleColor: document.getElementById("marble_color").value
                       };
    console.log(marbleString);
    console.log(JSON.stringify(marbleString));
    var stringified = JSON.stringify(marbleString);
    insertMarbles(stringified);
  }

  //call php file that inserts into db, then display change on page
function insertMarbles(dataString) {
  var http = new XMLHttpRequest();
  http.open("POST", "insert_json_db.php", true);
  http.setRequestHeader("Content-type", "application/json; charset=utf-8");
  http.onreadystatechange = function() {
    if (http.readyState == 4 && http.status == 200) {
      document.getElementById("result-box").innerHTML = (http.responseText);
      }
  }
  http.send(dataString);
}//*/
  </script>
<script src="../nav-builder.js"></script>
</body>
</html>